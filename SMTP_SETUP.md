# Настройка SMTP для отправки форм

## Требуемые данные для SMTP

Для настройки отправки email через SMTP вам нужно заполнить следующие переменные в файле `.env`:

### 1. VITE_SMTP_HOST
**Что это:** Адрес SMTP сервера  
**Пример:** `mail.alliance-pravo.ru`  
**Где взять:** Обычно это `mail.ваш-домен.ru` или адрес, предоставленный хостингом

### 2. VITE_SMTP_PORT
**Что это:** Порт SMTP сервера  
**Варианты:**
- `465` - SSL/TLS (рекомендуется, безопасный)
- `587` - STARTTLS (тоже безопасный)
- `25` - без шифрования (не рекомендуется, может блокироваться)

**Рекомендация:** Используйте `465` для SSL/TLS

### 3. VITE_SMTP_USER
**Что это:** Email адрес для авторизации на SMTP сервере  
**Пример:** `info@alliance-pravo.ru`  
**Где взять:** Это ваш email адрес, который вы используете для отправки писем

### 4. VITE_SMTP_PASSWORD
**Что это:** Пароль от email ящика или пароль приложения  
**Важно:** 
- Это пароль от вашего почтового ящика `info@alliance-pravo.ru`
- Или специальный "пароль приложения", если используется двухфакторная аутентификация
- **НЕ используйте основной пароль от аккаунта, если есть возможность создать пароль приложения**

### 5. VITE_SMTP_FROM
**Что это:** Email адрес отправителя (от кого будут приходить письма)  
**Пример:** `info@alliance-pravo.ru`  
**Обычно:** Совпадает с `VITE_SMTP_USER`

### 6. VITE_SMTP_TO
**Что это:** Email адрес получателя (куда будут приходить заявки)  
**Пример:** `info@alliance-pravo.ru` или другой email для получения заявок  
**Может быть:** Любой email, куда вы хотите получать уведомления о новых заявках

## Пример заполненного .env

```env
# SMTP Configuration
VITE_SMTP_HOST=mail.alliance-pravo.ru
VITE_SMTP_PORT=465
VITE_SMTP_USER=info@alliance-pravo.ru
VITE_SMTP_PASSWORD=ваш_пароль_от_почты
VITE_SMTP_FROM=info@alliance-pravo.ru
VITE_SMTP_TO=info@alliance-pravo.ru
```

## Как получить пароль для SMTP

### Вариант 1: Обычный пароль от почты
Если у вас обычная почта без двухфакторной аутентификации, используйте пароль от почтового ящика.

### Вариант 2: Пароль приложения (для Gmail, Yandex и др.)
Если используется двухфакторная аутентификация:
- **Gmail:** Настройки → Безопасность → Пароли приложений
- **Yandex:** ID → Пароли приложений
- **Другие:** Обычно в настройках безопасности/безопасности аккаунта

## Проверка настроек

После заполнения всех данных:

1. Убедитесь, что `.env` файл создан (скопируйте из `.env.example`)
2. Заполните все переменные SMTP
3. Протестируйте отправку формы на сайте
4. Проверьте, что письмо пришло на `VITE_SMTP_TO`

## Безопасность

⚠️ **Важно:**
- Файл `.env` уже добавлен в `.gitignore` и не будет загружен в Git
- Не передавайте пароли через незащищенные каналы
- Используйте пароли приложений вместо основных паролей, когда возможно

## Настройки для вашего хостинга

Судя по настройкам в ISPmanager, у вас:
- **Сервер:** `mail.alliance-pravo.ru`
- **Доступные порты:** 25, 465, 587
- **Email:** `info@alliance-pravo.ru`

**Рекомендуемые настройки:**
```
VITE_SMTP_HOST=mail.alliance-pravo.ru
VITE_SMTP_PORT=465
VITE_SMTP_USER=info@alliance-pravo.ru
VITE_SMTP_PASSWORD=ваш_пароль_от_почты_info
VITE_SMTP_FROM=info@alliance-pravo.ru
VITE_SMTP_TO=info@alliance-pravo.ru
```

## Troubleshooting

### Проблема: Письма не отправляются
1. Проверьте правильность пароля
2. Убедитесь, что порт 465 открыт на сервере
3. Проверьте, что `VITE_SMTP_USER` и `VITE_SMTP_PASSWORD` правильные
4. Попробуйте порт 587 вместо 465

### Проблема: Ошибка авторизации
- Проверьте правильность логина и пароля
- Убедитесь, что используете полный email в `VITE_SMTP_USER`
- Проверьте, не требуется ли пароль приложения

